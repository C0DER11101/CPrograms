# _1._ \#undef

To _undefine_ a macro that was defined using the #define directive, we use the \#undef directive.

**Syntax:**
```c
#undef macro_name
```

Example:
```c
#define MAX 100

// code

#undef MAX
```

After the \#undef directive, if the macro name is encountered then an error will be generated by the compiler.

Program:
[t18.c](https://github.com/C0DER11101/CPrograms/blob/CProgramming/CPreprocessors/tests/t18.c).

**Error:**

<img src="https://user-images.githubusercontent.com/96164229/213915326-e7711497-62ef-4e22-9a5e-26e5542572af.png" width="60%" height="60%">

# _2._ Stringizing operator(\#)

Program:
[t19.c](https://github.com/C0DER11101/CPrograms/blob/CProgramming/CPreprocessors/tests/t19.c).


**Output:**

<img src="https://user-images.githubusercontent.com/96164229/213917020-e0edcc02-0777-4b6f-95f4-aef70c7ef21c.png" width="60%" height="60%">

Nothing can best explain this operator than this program.

This stringizing operator copies the name of the actual variable sent as an argument to the macro and places it in the string where this operator was used just like in `t19.c`.

The definition of the macro was:
```c
#define SQUARE(x) printf(#x" x "#x" = %d\n", x*x)
```

`SQUARE()` was called in the `main()` function as: `SQUARE(num)`

Now, in the definition of `SQUARE()`, wherever the portion of the string where `#x` was used, that portion got replaced by the original variable name which was `num` from the `main()` function. The stringizing operator copied the original name of the variable and converted it into a string and hence we got the output: `num x num = 25`.
Since the stringizing converts the variable name to string, we don't need put `#x` within double quotes.

**A property of C:**
Program{[t20.c](https://github.com/C0DER11101/CPrograms/blob/CProgramming/CPreprocessors/tests/t20.c)}.

**Output:**

<img src="https://user-images.githubusercontent.com/96164229/213917345-a79058d9-cc32-40a0-88f0-cd5fd6bdeba0.png" width="60%" height="60%">

This is the string concatenation property of C.

# _3._ Token pasting operator(\##)
_This operator is used in a macro definition to concatenate two tokens into a single token._

In simple words: `a##b` generates a token `ab`. `y##1` produces `y1`.

Program:
[t21.c](https://github.com/C0DER11101/CPrograms/blob/CProgramming/CPreprocessors/tests/t21.c).

**Output:**

<img src="https://user-images.githubusercontent.com/96164229/213918246-8a6b7d1a-dc93-4ca0-8e1c-4bca0b9622d8.png" width="60%" height="60%">

Here the token pasting operator `##` pastes `k` and `2` together to produce the variable `k2`(declared in `main()`).

# _4._ Including files

```c
#include<stdio.h>
#include "DisplayBits.c"
```
There difference between when we use `<>` with `include` VS when we use `""` with `include`. Let's look at that difference.

The preprocessor replaces the `#include` directive by the contents of the specified file.

**If the filename is in double quotes**, first it is searched in the current directory(where the source file is present), if not found there then it searched in the standard `include` directory.

**If the filename is within angle brackets**, then the file is searched in the standard `include` directory only.

# _5._ \#if and \#endif
An expression which is followed by \#if is evaluated first,  if the result is non-zero then the statements between \#if and \#endif are compiled, otherwise they are skipped.

\#endif **must** be included at the end of every \#if \#else conditional compilation.

Program:
[t22.c](https://github.com/C0DER11101/CPrograms/blob/CProgramming/CPreprocessors/tests/t22.c).

**Output:**

<img src="https://user-images.githubusercontent.com/96164229/213932235-29b08acb-b1c8-46dd-a267-c9ad0cffe35a.png" width="60%" height="60%">

**Note:** _The expression of_ `#if` _should  be a **constant expression**, it should not contain enum constants, sizeof operator, cast operator or any keyword or variables. It can contain **arithmetic**, **logical**, **relational** operators. If any undefined identifier appears in the expression, it is treated as having the value zero._

Program:
[t22_2.c](https://github.com/C0DER11101/CPrograms/blob/CProgramming/CPreprocessors/tests/t22_2.c).

**Output:**

<img src="https://user-images.githubusercontent.com/96164229/213971000-1109a520-51f8-4936-97ef-4d5e23202456.png" width="60%" height="60%">

_Here I used a variable in the expression of_ `#if` _and so only the statement after_ `#endif` _got executed._

# _6._ \#else and \#elif

\#else is used the \#if directive. It is analogous to `if....else` control structure.


**Syntax:**
```c
#if constant-expression
	statements
#else
	statements
#endif
```


---
